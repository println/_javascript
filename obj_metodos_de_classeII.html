<html>
<body>
<script language="javascript">
//Primeiro passo ao definir uma classe é defenir uma função construtora
function Complex(real, imaginary){
	this.x = real;
	this.y = imaginary;
	}
/*Segundo passo ao definir uma classe é definir seus métodos de instância
( e possivelmente outras propriedades) no objeto protótipo do construtor*/
Complex.prototype.magnitude = function (){
	return Math.sqrt(this.x*this.x + this.y*this.y);
	}
Complex.prototype.negative = function () {
	return new Complex(-this.x,-this.y);
	}
Complex.prototype.toString = function () {
	return "{" + this.x + "," + this.y + "}";
	}
Complex.prototype.valueOf = function () {
	return this.x;
	}
/*Terceiro passo ao definir uma classe é definir métodos de classe,
constantes e quaisquer propriedades como propriedades da própria 
função construtora(e não como propriedades do objeto protótipo do construtor).
Métodos de classe não usam a palavra-chave this: eles soó operam em seus argumentos.*/

Complex.add = function (a,b){
	return new Complex(a.x + b.x, a.y + b.y);
	}
Complex.subtract = function (a,b){
	return new Complex(a.x - b.x, a.y - b.y);
	}
Complex.multiply = function (a,b){
	return new Complex(a.x * b.x - a.y * b.y, a.x * b.y + a.y * b.x);
	}
//propriedades de classe definidos como constantes
Complex.zero = new Complex(0,0);
Complex.one = new Complex(1,0);
Complex.i = new Complex(0,1);

/////////////////////////////
//   Subclasse de Complex
////////////////////////////

//construtor da subclasse
function MoreComplex(real, imaginary){
	this.x = real;
	this.y = imaginary;
	}
//Forçando o protótipo ser um objeto de Complex
MoreComplex.prototype = new Complex(0,0);

//Adicionando um novo método ou outros recursos novos a essa subclasse

MoreComplex.prototype.swap = function (){
	var tmp = this.x;
	this.x = this.y;
	this.y = tmp;
	}

MoreComplex.prototype.constructor = MoreComplex;


//teste

var a = new MoreComplex(50,3);
var b = new Complex(2,1);
var c = Complex.subtract(a,b);
var d = a - b;
document.write(a.toString()+"\n");
document.write(c.toString()+"\n");
document.write(d+"\n");
document.write(c.hasOwnProperty("magnitude")+"\n");
</script>
</body>
</html>